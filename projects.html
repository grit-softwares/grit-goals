<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projetos - Grit</title>
    <style>
        body {
            background-color: #1e1e1e;
            color: #fff;
            font-family: Arial, sans-serif;
            padding: 40px;
        }
        h1 {
            color: #4CAF50;
        }
        h2 {
            border-bottom: 1px solid #444;
            padding-bottom: 5px;
            margin-top: 40px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            padding: 12px;
            border-bottom: 1px solid #333;
            text-align: left;
            vertical-align: top;
        }
        .progress-bar {
            width: 100%;
            background-color: #333;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 4px;
        }
        .progress {
            height: 20px;
            background-color: #4CAF50;
        }
        .tag {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            display: inline-block;
            color: #000;
        }
        .discovery { background-color: #FFEB3B; }
        .prototipacao { background-color: #FFC107; }
        .desenvolvimento { background-color: #03A9F4; }
        .suporte { background-color: #8BC34A; }
        .standby { background-color: #BDBDBD; }
        .nao-iniciado { background-color: #FF5722; }
    </style>
</head>
<body>
<h1>Projetos da Grit</h1>
<div style="margin-bottom: 30px;">
    <a href="history.html" style="background-color: #FF9800; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; font-weight: bold;">üìã Hist√≥rico de Projetos</a>
</div>

<h2>Contratos de Escopo Aberto</h2>
<table>
    <thead>
    <tr>
        <th>Projeto</th>
        <th>Horas Totais</th>
        <th>Distribui√ß√£o</th>
        <th>Progresso</th>
        <th>Status</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Regente Im√≥veis</td>
        <td>160</td>
        <td>
            <ul>
                <li>Maio: 34h</li>
                <li>Junho: 28h</li>
                <li>Julho: 41h</li>
                <li>Agosto: 38h</li>
                <li>Setembro: 9h</li>
            </ul>
        </td>
        <td>
            Utilizado at√© agosto: <strong>123h</strong> / 160h<br>
            <div class="progress-bar">
                <div class="progress" style="width: 76.88%"></div>
            </div>
            <small>76,9% do contrato conclu√≠do</small>
        </td>
        <td>20h utilizadas em agosto, restam 18h + 9h setembro</td>
    </tr>

    </tbody>
</table>

<h2>Projetos de Escopo Fechado</h2>
<table>
    <thead>
    <tr>
        <th>Projeto</th>
        <th>Data Assinatura</th>
        <th>Primeiro Pagamento</th>
        <th>In√≠cio do Projeto</th>
        <th>Meta Interna de Entrega</th>
        <th>Fim do Projeto</th>
        <th>Tempo Total</th>
        <th>Dias Passados</th>
        <th>Dias Restantes</th>
        <th>Progresso</th>
        <th>Status</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Ponto Online</td>
        <td>03/04/2025</td>
        <td>04/04/2025</td>
        <td>07/04/2025</td>
        <td>30/09/2025</td>
        <td>07/12/2025</td>
        <td id="po-total-time"></td>
        <td id="po-days-passed"></td>
        <td id="po-days-left"></td>
        <td>
            <div class="progress-bar">
                <div class="progress" id="po-bar" style="width: 0%"></div>
            </div>
        </td>
        <td><span class="tag desenvolvimento">Desenvolvimento</span></td>
    </tr>
    <tr>
        <td>Intelig√™ncia em Sa√∫de</td>
        <td>24/06/2025</td>
        <td>26/06/2025</td>
        <td>27/06/2025</td>
        <td>12/10/2025</td>
        <td>23/01/2026</td>
        <td id="inteligencia-total-time"></td>
        <td id="inteligencia-days-passed"></td>
        <td id="inteligencia-days-left"></td>
        <td>
            <div class="progress-bar">
                <div class="progress" id="inteligencia-bar" style="width: 0%"></div>
            </div>
        </td>
        <td><span class="tag desenvolvimento">Prototipa√ß√£o + Desenvolvimento</span></td>
    </tr>
    <tr>
        <td>Fotobase</td>
        <td>13/08/2025</td>
        <td>14/08/2025</td>
        <td>15/08/2025</td>
        <td>13/12/2025</td>
        <td>12/03/2026</td>
        <td id="fotobase-total-time"></td>
        <td id="fotobase-days-passed"></td>
        <td id="fotobase-days-left"></td>
        <td>
            <div class="progress-bar">
                <div class="progress" id="fotobase-bar" style="width: 0%"></div>
            </div>
        </td>
        <td><span class="tag prototipacao">Prototipa√ß√£o</span></td>
    </tr>
    <tr>
        <td>Menex</td>
        <td>--</td>
        <td>--</td>
        <td>10/04/2025</td>
        <td>--</td>
        <td>28/07/2025</td>
        <td id="menex-total-time"></td>
        <td id="menex-days-passed"></td>
        <td id="menex-days-left"></td>
        <td>
            <div class="progress-bar">
                <div class="progress" id="menex-bar" style="width: 0%"></div>
            </div>
        </td>
        <td><span class="tag standby">Stand-by (Prototipa√ß√£o do cliente)</span></td>
    </tr>
    </tbody>
</table>

<h2>Projetos Internos</h2>
<table>
    <thead>
    <tr>
        <th>Projeto</th>
        <th>In√≠cio do Projeto</th>
        <th>Meta de Fim do Projeto</th>
        <th>Dias Passados</th>
        <th>Dias Restantes</th>
        <th>Progresso</th>
        <th>Status</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>Kairos</td>
        <td>03/07/2025</td>
        <td>03/09/2025</td>
        <td id="kairos-days-passed"></td>
        <td id="kairos-days-left"></td>
        <td>
            <div class="progress-bar">
                <div class="progress" id="kairos-bar" style="width: 0%"></div>
            </div>
        </td>
        <td><span class="tag desenvolvimento">Em desenvolvimento</span></td>
    </tr>
    <tr>
        <td>Kairos Consultores</td>
        <td>02/08/2025</td>
        <td>02/11/2025</td>
        <td id="kairos-consultores-days-passed"></td>
        <td id="kairos-consultores-days-left"></td>
        <td>
            <div class="progress-bar">
                <div class="progress" id="kairos-consultores-bar" style="width: 0%"></div>
            </div>
        </td>
        <td><span class="tag desenvolvimento">Em desenvolvimento</span></td>
    </tr>
    </tbody>
</table>

<script>
	function calcularProgresso(idPrefix, inicioStr, fimStr) {
		const hoje = new Date();
		const inicio = new Date(inicioStr);
		const fim = new Date(fimStr);

		const diasTotais = Math.ceil((fim - inicio) / (1000 * 60 * 60 * 24));
		const diasPassados = Math.max(0, Math.ceil((hoje - inicio) / (1000 * 60 * 60 * 24)));
		const diasRestantes = Math.max(0, diasTotais - diasPassados);
		const porcentagem = Math.min(100, (diasPassados / diasTotais) * 100);

		// Calcular tempo total em formato leg√≠vel (apenas para projetos que t√™m essa coluna)
		const tempoTotalElement = document.getElementById(`${idPrefix}-total-time`);
		if (tempoTotalElement) {
			const meses = Math.floor(diasTotais / 30);
			const diasSobrando = diasTotais % 30;
			let tempoTotal = '';
			if (meses > 0) {
				tempoTotal = `${meses} ${meses === 1 ? 'm√™s' : 'meses'}`;
				if (diasSobrando > 0) {
					tempoTotal += ` e ${diasSobrando} ${diasSobrando === 1 ? 'dia' : 'dias'}`;
				}
			} else {
				tempoTotal = `${diasTotais} ${diasTotais === 1 ? 'dia' : 'dias'}`;
			}
			tempoTotalElement.innerText = tempoTotal;
		}

		// Atualizar elementos que existem
		const diasPassadosElement = document.getElementById(`${idPrefix}-days-passed`);
		const diasRestantesElement = document.getElementById(`${idPrefix}-days-left`);
		const barraElement = document.getElementById(`${idPrefix}-bar`);

		if (diasPassadosElement) diasPassadosElement.innerText = diasPassados + ' dias';
		if (diasRestantesElement) diasRestantesElement.innerText = diasRestantes + ' dias';
		if (barraElement) barraElement.style.width = porcentagem + '%';
	}

	calcularProgresso('po', '2025-04-07', '2025-12-07');
	calcularProgresso('menex', '2025-04-10', '2025-07-28');
	calcularProgresso('inteligencia', '2025-06-27', '2026-01-23');
	calcularProgresso('fotobase', '2025-08-15', '2026-03-12');
	calcularProgresso('kairos', '2025-07-03', '2025-09-03');
	calcularProgresso('kairos-consultores', '2025-08-02', '2025-11-02');
</script>
</body>
</html>